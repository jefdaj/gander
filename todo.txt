would it help to break up HashTree.hs further?
put dir/file before hash and split on that to handle newlines in filenames
asciinema demo:
  fork from master or dedup-1-compiles-but-broken?
